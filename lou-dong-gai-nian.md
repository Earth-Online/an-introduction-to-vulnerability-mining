# 漏洞概念

对本书所说的漏洞进行定义前,需要对其他所用名词进行定义.

漏洞的对象叫做系统, 这里所说的系统将是广义的.每个系统都可以视为一个黑盒, 接受一个输入得到一个输出.

例如谷歌搜索引擎接受搜索关键词返回搜索结果.

对系统进行分析, 可以分为多个系统, 每个系统接受一个输入,得到一个输出, 并传递.

 一个典型的网站可以分为前端网页,后端服务器,数据库.



显然制作每一个系统,开发人员都有他的系统预期行为.这个预期可以写成一个矩阵\(具体格式根据系统而定\)

例如 一个贩卖橘子\(1元一斤\)的系统

| 输入 | 限制 | 输出 |
| :--- | :--- | :--- |
| "购买N斤橘子"和付钱 | 付的钱大于N | 交易成功,余额-N |
| "购买N斤橘子"和付钱 | 付的钱小于N | 拒绝 |
| 购买N斤橘子和没付钱 |  | 拒绝 |

 如果在预期或者实现中出现问题,如超出预期的行为就称为bug. 

现实中购买橘子没人会购买0斤,但是在系统输入中可以出现0, 然后就会产生无用订单.

如果输入是负数, 在上面的预期中就会出现余额-\(-x\) = 余额+x的未预料行为, 这个行为显然存在威胁,可以免费给自己余额充值 . 这种就叫做漏洞.

漏洞存在的基本条件

* 输入可控
* 系统限制存在问题

如果上面输入不可控,就无法输入0或者负数, 就不存在漏洞. 如果限制中添加, N&gt;0,也无法输入0或者负数, 



